<div class="chat-container">
    <div id="chat-messages"></div>
    <div class="input-area">
        <input type="text" id="user-input" placeholder="Type your message...">
        <input type="text" id="urls-input" placeholder="Enter URLs (comma-separated)">
        <button onclick="sendMessage()">Send</button>
    </div>
</div>

<script>
function sendMessage() {
    var userInput = document.getElementById('user-input').value;
    var urlsInput = document.getElementById('urls-input').value;
    var urls = urlsInput ? urlsInput.split(',').map(url => url.trim()) : [];

    fetch('/ask', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            question: userInput,
            urls: urls
        }),
    })
    .then(response => response.json())
    .then(data => {
        var chatMessages = document.getElementById('chat-messages');
        chatMessages.innerHTML += '<p><strong>You:</strong> ' + userInput + '</p>';
        data.answers.forEach(answer => {
            chatMessages.innerHTML += '<p><strong>Chatbot:</strong> ' + answer + '</p>';
        });
    });

    document.getElementById('user-input').value = '';
    document.getElementById('urls-input').value = '';
}
</script>